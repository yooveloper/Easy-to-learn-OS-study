# 파일시스템

### 블록과 파일 테이블

데이터는 운영체제와 저장장치 간에 블록 단위로 전송된다. 블록은 저장장치에서 사용하는 가장 작은 단위로, 한 블록에 주소 하나가 할당된다. 메모리는 바이트 단위로 저장되고, 하드디스크의 물리적인 구조상 가장 작은 저장 단위는 섹터이다.

섹터마다 주소를 부여하면 너무 많은 양의 주소가 필요하기에 섹터를 묶어 하나의 블록으로 만들고, 블록 하나에 주소 하나를 배정한다.

블록의 크기는 시스템마다 다르다. 크기가 큰 파일을 많이 사용할 때는 블록 크기를 크게 잡는 것이 좋다.

### 파일 분류와 확장자

파일은 논리적인 데이터의 집합이고 0과 1의 비트 패턴으로 이루어지며, 운영체제 입장에서는 크게 실행 파일과 데이터 파일로 나뉜다.

- 실행 파일 : 운영체제가 메모리로 가져와 CPU를 이용하여 작업을 하는 파일

- 데이터 파일 : 실행 파일이 작업하는 데 필요한 데이터를 모아놓은 파일
  파일을 구분하기 위해 모든 파일은 각각 고유한 헤더를 가지고 있고, 파일의 성격을 알기 위해 확장자를 붙인다.

### 파일 이름과 연결 프로그램

대부분의 파일 이름은 '파일 이름.확장자'의 형태로 구성된다. 확장자를 바꾼다고 해서 파일 내용이 바뀌지는 않는다.

### 파일 속성

파일 속성은 각 파일 헤더에 기록되며, 운영체제는 이러한 파일 헤더를 파일 테이블에서 관리한다.

- 파일 헤더: 파일 테이블에서 관리하며 일반적인 내용이 담겨있다.
- 고유 헤더: 파일의 버전 번호, 크기 등 응용 프로그램이 필요로 하는 정보가 담겨 있다.

### 파일 구조

파일은 하나의 데이터 덩어리이다. 파이 구조는 이 데이터 덩어리를 어떻게 구성하느냐에 따라 순차 파일 구조, 인덱스 파일 구조, 직접 파일 구조로 나눌 수 있다.

#### 순차 파일 구조

일반 파일은 기본적으로 순차 파일 구조이다. 순차 파일 구조는 파일 내용이 하나의 긴 줄로 늘어선 형태로 카세프 테이프가 대표적인 예이다. 파일을 작업할 때, 앞에서부터 뒤까지 순차적인 접근만 가능하다.

- 장점: 순서대로 기록되기 때문에, 공간 낭비가 없고 구조가 단순하다. 따라서 순서대로 읽거나 저장할 때 빠르다.

- 단점: 새로운 데이터를 삽입하거나, 삭제할 때 시간이 많이 소요되고 특정 데이터로 직접 접근이 어렵다.

#### 인덱스 파일 구조

순차 파일 구조의 단점을 해결한 파일 구조로, 순차 파일 구조에 인덱스 테이블을 추가하여 순차 접근과 직접 접근이 가능하다. 음악 CD가 대표적인 예이다.

#### 직접 파일 구조

저장하려는 데이터의 특정 값에 어떤 관계를 정의하여 물리적인 주소로 바로 변환하는 파일 구조이다. 해시 테이블이 대표적인 예이다. 데이터 접근이 매우 빠르지만 해시 함수의 선정이 매우 중요하다.

### 디렉터리

디렉터리는 관련 있는 파일을 하나로 모아놓은 곳이다. 디렉터리도 파일이다. 따라서 디렉터리도 일반 파일과 마찬가지로 헤더를 가진다.

### 경로

파일이 전체 디렉터리 중 어디에 있는지를 나타내는 정보로 서로 다른 디렉터리에는 같은 이름의 파일이 존재할 수도 있다.

- 절대 경로: 루트 디렉터리를 기준으로 파일의 위치를 나타내는 방식

- 상대 경로: 현재 있는 위치를 기준으로 파일의 위치를 나타내는 방식

### 디렉터리 구조

- 1단계 디렉터리 구조 : 매우 단순하지만 파일이 많아지면 불편하다.
- 다단계 디렉터리 구조 : 트리 디렉터리 구조라고도 하고, 디렉터리 속에 디렉터리가 존재하는 구조이다.

### 마운트

파티션은 논리적인 디스크 분할로, 하나 또는 여러 개의 디스크를 파티션으로 나누어 사용할 수 있다. 이러한 파티션이 여러 개 있을 때 통합하는 명령어가 바로 마운트이다.

### 디스크 파일 할당

일반적으로 하나의 파일은 여러 개의 블록을 사용하는데, 여러 개의 블록을 어떻게 연결하는지에 따라 연속 할당과 불연속 할당 방식으로 구분된다.

- 연속 할당
  파일을 구성하는 데이터를 디스크 상에 연속으로 배열하는 간단한 방식이다. 그렇지만 디스크에 남은 공간 중 파일의 크기와 맞는 연속된 공간이 없을 때는 연속 할당이 불가능하다.

- 불연속 할당
  비어 있는 블록에 데이터를 분산하여 저장하고 이에 관한 정보를 파일 시스템이 관리하는 방식이다.

대표적인 불연속 할당 방식으로는 연결 리스트를 이용한 연결 할당과 인덱스를 이용한 인덱스 할당이 있다.

#### 연결 할당

- 파일에 속한 데이터를 연결 리스트로 관리하는 방식으로 체인 할당이라고도 한다.

- 테이블 형태로 관리 (FAT)

- 파일 테이블에는 시작 블록에 대한 정보만 저장

#### 인덱스 할당

- FAT의 최대 할당 크기 제한의 문제를 해결하기 위해 인덱스 할당 방식 사용

- 데이터의 인덱스를 담고 있는 인덱스 블록을 연결

- 인덱스 블록은 실제 데이터의 위치에 관한 정보를 순서대로 보관

#### 디스크의 빈 공간 정리

디스크 블록의 크기에 따라 낭비되는 공간이 생길 수도 있다. 낭비되는 공간을 내부 단편화라 하는데 내부 단편화 때문에 실제 전체 파일 크기보다 디스크에 할당된 파일의 크기가 더 커진다.

이러한 현상을 해결하기 위해 빈 블록의 정보만 모아놓은 빈 공간 리스트를 사용해 빈 공간을 최소화한다.

---

# 네트워크와 분산 시스템

### 통신과 네트워크

- 모스 부호: 전기를 이용한 최초의 통신 수단, 미리 정해놓은 짧은 음과 긴 음을 조합하여 메시지를 만들어 전송

- 전화: 통신하려는 대상을 선으로 연결, 음성을 전달

- 무전기: 최초의 무선통신 기기로, 양쪽으로 통신할 수 있으나 어느 시점에는 한쪽으로만 통신이 가능

네트워크
네트워크는 유무선통신 기술을 이용하여 여러 기기를 하나로 연결한 것을 말한다.

일상생활에서 가장 많이 사용하는 네트워크는 전화망이다. 전화망은 기술의 발달과 함께 무선 전화망으로 발전했다. 무선 전화망은 1세대부터 5세대까지 다음과 같은 과정을 거쳐 진화했다.

1세대 무선 전화망: 초기의 무선 전화망은 아날로그 신호만 전송했다.
2세대 무선 전화망: 디지털 신호를 전송한다. 아날로그 신호보다 효율성이 좋다.
3세대 무선 전화망: 기존의 전화 기능에 데이터 통신 기능이 추가되었다.
4세대 무선 전화망: 데이터 통신에 대해 데이터 전송 속도를 높였다.
5세대 무선 전화망: 초고속 무선 통신이 가능하다.

#### 네트워크 구성 방식

네트워크는 구성 방식에 따라 강결합 시스템과 약결합 시스템으로 나눌 수 있다.

#### 강결합 시스템

네트워크로 연결된 모든 컴퓨터의 프로세서가 하나의 메모리를 공유하는 방식

모든 컴퓨터는 메모리를 공유하면서 같은 운영체제를 사용하는데, 강결합 시스템은 약결합 시스템에 비해 속도가 빠르다.

#### 약결합 시스템

둘 이상의 독립된 시스템을 연결한 것으로, 오늘날의 네트워크는 이 방식으로 이루어져 있다.

약결합 시스템은 통신 오버헤드가 있기 때문에 강결합 시스템보다 느리다. 그러나 강결합 시스템에서는 하나의 시스템에 문제가 생기면 다른 시스템에도 영향을 미치지만 약결합 시스템에서는 컴퓨터들이 서로 독립적으로 작동하기 때문에 하나의 시스템에 장애가 발생해도 다른 시스템에 영향을 미치지 않는다.

#### 프로토콜

다른 기기 간에 통신을 하기 위해 정한 약속

#### 인터넷

- LAN: 가까운 거리에 연결된 네트워크

- WAN: 국가 전체를 연결하거나 국가 간에 연결되어 있는 네트워크

#### LAN을 구성하는 방법

- 스타형: 중간에 네트워크를 관장하는 시스템을 두고 방사형으로 기기를 연결

- 링형: 모든 기기를 원형으로 연결

- 버스형: 중앙의 버스에 독립적으로 기기를 붙여 네트워크를 구성

### 분산 시스템

개인용 컴퓨터의 보급으로 값이 싸고 크기가 작은 컴퓨터를 네트워크로 묶어 대형 컴퓨터 같은 능력을 가진 시스템을 말한다.

#### 분산 시스템의 장점

- 네트워크로 연결된 기기가 여러 자원을 공유할 수 있다.
- 작업 분배를 통해 여러 기기가 작업을 나누어 처리할 수 있다.
- 데이터나 처리를 분산함으로써 연산 속도를 향상할 수 있다.
- 장애가 발생해도 시스템을 복구할 수 있다.

#### 분산 시스템 고려사항

- 각 기기의 독립성 보장
- 사용자는 시스템을 하나의 기기로 인식할 수 있어야 한다.

#### 분산 시스템 운영체제

- 네트워크 운영체제 : 컴퓨터가 독자적인 운영체제를 가진 채 사용자 프로그램을 통해 분산 시스템이 구현된 것으로, 낮은 수준의 분산 시스템 운영체제라고 볼 수 있다.

- 분산 운영체제 : 시스템 내에 하나의 운영체제가 존재하고, 전체 네트워크를 통틀어서 단일 운영체제로 운영된다. 사용자가 시스템 내 기기의 종류를 알 필요가 없고 전체 시스템을 일관성 있게 설정할 수 있다. 네트워크의 이해, 유지, 수정이 용이하다.
